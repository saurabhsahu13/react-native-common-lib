Object.defineProperty(exports,"__esModule",{value:true});exports.Input=undefined;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};var _jsxFileName="lib/commonComponents/Input.js";var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _react=require("react");var _react2=_interopRequireDefault(_react);var _propTypes=require("prop-types");var _propTypes2=_interopRequireDefault(_propTypes);var _reactNative=require("react-native");var _commonAssets=require("../commonAssets");var _=require("./");var _commonHelpers=require("../commonHelpers");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var localStyles=_reactNative.StyleSheet.create({bluePasswordEye:{width:20},wordCount:{position:"absolute",bottom:7.5,right:7.5}});var Input=function(_React$Component){_inherits(Input,_React$Component);function Input(props){_classCallCheck(this,Input);var _this=_possibleConstructorReturn(this,(Input.__proto__||Object.getPrototypeOf(Input)).call(this,props));_this.getWordCount=function(){var val=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var value=_this.props.value;var valToUse=val||value;if(valToUse){return valToUse.split(" ").map(function(t){return t.trim();}).filter(function(l){return!!l;}).length;}return 0;};_this.handleOnChangeText=function(text){var _this$props=_this.props,wordCount=_this$props.wordCount,onChangeText=_this$props.onChangeText;if(wordCount){var currentWordCount=_this.getWordCount(text);if(currentWordCount===wordCount+1){return null;}}return onChangeText(text);};_this.isFocused=function(){return _this._inputRef&&_this._inputRef.isFocused();};_this.handlePress=function(){var _this$props2=_this.props,onPress=_this$props2.onPress,disabled=_this$props2.disabled;if(onPress){_this.props.onPress();}if(!disabled&&!_this.isFocused()){_this._inputRef.focus();}};_this.handleOnSubmitEditing=function(){if(_this._inputRef){}else{console.log("THERE'S NO _inputRef...");}_this.props.onSubmitEditing();};_this.handleOnKeyPress=function(event){var multiline=_this.props.multiline;if(multiline){}};_this.renderWordCount=function(){var _this$props3=_this.props,wordCount=_this$props3.wordCount,accentColor=_this$props3.accentColor,wordCountBgColor=_this$props3.wordCountBgColor;if(wordCount){var currentWordCount=_this.getWordCount();return _react2.default.createElement(_reactNative.View,{style:[localStyles.wordCount,{backgroundColor:wordCountBgColor}],__source:{fileName:_jsxFileName,lineNumber:107}},_react2.default.createElement(_.PText,{color:accentColor,text:currentWordCount+" Word Count ("+wordCount+")",__source:{fileName:_jsxFileName,lineNumber:110}}));}return null;};_this.renderPasswordToggle=function(){var _this$props4=_this.props,password=_this$props4.password,passwordToggleFunc=_this$props4.passwordToggleFunc,eyeColor=_this$props4.eyeColor,passwordEyeIcon=_this$props4.passwordEyeIcon,renderPassToggle=_this$props4.renderPassToggle;if(renderPassToggle){return renderPassToggle();}if(password){return _react2.default.createElement(_.Touchable,{onPress:passwordToggleFunc,__source:{fileName:_jsxFileName,lineNumber:136}},_react2.default.createElement(_reactNative.Image,{style:localStyles.bluePasswordEye,resizeMode:"contain",source:passwordEyeIcon||_commonAssets.CommonIcons[eyeColor+"PasswordEye"],__source:{fileName:_jsxFileName,lineNumber:137}}));}return null;};_this.renderLabel=function(){var _this$props5=_this.props,header=_this$props5.header,label=_this$props5.label,accentColor=_this$props5.accentColor,textProps=_this$props5.textProps;var TextToUse=header?_.HText:_.PText;if(label){return _react2.default.createElement(TextToUse,_extends({text:label,color:accentColor},textProps,{__source:{fileName:_jsxFileName,lineNumber:155}}));}return null;};_this.renderClearComp=function(){var renderClearComp=_this.props.renderClearComp;if(renderClearComp){return renderClearComp();}return null;};_this.handleRef=function(input){var getRef=_this.props.getRef;_this._inputRef=input;if(getRef){getRef(_this._inputRef);}};_this._inputRef=null;return _this;}_createClass(Input,[{key:"render",value:function render(){var _props=this.props,value=_props.value,placeholder=_props.placeholder,placeholderTextColor=_props.placeholderTextColor,secureTextEntry=_props.secureTextEntry,selectionColor=_props.selectionColor,keyboardType=_props.keyboardType,mAll=_props.mAll,mT=_props.mT,mR=_props.mR,mB=_props.mB,mL=_props.mL,mBpx=_props.mBpx,mTpx=_props.mTpx,mLpx=_props.mLpx,mRpx=_props.mRpx,pL=_props.pL,pR=_props.pR,pT=_props.pT,pB=_props.pB,accentColor=_props.accentColor,backgroundColor=_props.backgroundColor,multiline=_props.multiline,fontSize=_props.fontSize,defaultValue=_props.defaultValue,borderWidth=_props.borderWidth,returnKeyType=_props.returnKeyType,selectTextOnFocus=_props.selectTextOnFocus,autoFocus=_props.autoFocus,width=_props.width,maxLength=_props.maxLength,keyboardAppearance=_props.keyboardAppearance,autoCapitalize=_props.autoCapitalize,autoCorrect=_props.autoCorrect,editable=_props.editable,borderBottomWidth=_props.borderBottomWidth,numberOfLines=_props.numberOfLines,returnKeyLabel=_props.returnKeyLabel,inputContainerStyle=_props.inputContainerStyle,clearButtonMode=_props.clearButtonMode,onBlur=_props.onBlur,activeOpacity=_props.activeOpacity,inputStyle=_props.inputStyle,placeholderStyle=_props.placeholderStyle,containerStyle=_props.containerStyle,inputAccessoryViewID=_props.inputAccessoryViewID;var color=(0,_commonHelpers.getColorFromString)(accentColor);var convertedPlaceholderTextColor=(0,_commonHelpers.getColorFromString)(placeholderTextColor);var showingPlaceholder=!value;var styles={inputStyle:{color:color,paddingRight:pR,paddingLeft:pL,paddingTop:pT,paddingBottom:pB,fontSize:fontSize,backgroundColor:backgroundColor,flex:1},inputContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:borderWidth,borderBottomWidth:borderBottomWidth,borderTopColor:color,borderBottomColor:color,borderRightColor:color,borderLeftColor:color},containerStyle:{marginTop:mTpx||(0,_commonHelpers.nToPercent)(mT,"height")||(0,_commonHelpers.nToPercent)(mAll,"height"),marginRight:mRpx||(0,_commonHelpers.nToPercent)(mR,"width")||(0,_commonHelpers.nToPercent)(mAll,"width"),marginBottom:mBpx||(0,_commonHelpers.nToPercent)(mB,"height")||(0,_commonHelpers.nToPercent)(mAll,"height"),marginLeft:mLpx||(0,_commonHelpers.nToPercent)(mL,"width")||(0,_commonHelpers.nToPercent)(mAll,"width"),alignItems:"flex-start",width:width}};var marginStyle=mAll?{margin:mAll}:_commonHelpers.defaultRefs.emptyObj;var style=showingPlaceholder?[styles.inputStyle,inputStyle,placeholderStyle]:[styles.inputStyle,inputStyle];return _react2.default.createElement(_.Touchable,{activeOpacity:activeOpacity,onPress:this.handlePress,style:[styles.containerStyle,marginStyle,containerStyle],pointerEvents:"auto",__source:{fileName:_jsxFileName,lineNumber:277}},this.renderLabel(),_react2.default.createElement(_reactNative.View,{style:[styles.inputContainer,inputContainerStyle],pointerEvents:"box-none",__source:{fileName:_jsxFileName,lineNumber:284}},_react2.default.createElement(_reactNative.TextInput,{ref:this.handleRef,underlineColorAndroid:"transparent",placeholder:placeholder,placeholderTextColor:convertedPlaceholderTextColor,selectionColor:(0,_commonHelpers.getColorFromString)(selectionColor),autoCorrect:autoCorrect,style:style,value:value,onChangeText:this.handleOnChangeText,autoCapitalize:autoCapitalize,secureTextEntry:secureTextEntry,keyboardType:keyboardType,multiline:multiline,defaultValue:defaultValue,returnKeyType:returnKeyType,onSubmitEditing:this.handleOnSubmitEditing,selectTextOnFocus:selectTextOnFocus,onFocus:this.handlePress,autoFocus:autoFocus,maxLength:maxLength,keyboardAppearance:keyboardAppearance,editable:editable,numberOfLines:numberOfLines,returnKeyLabel:returnKeyLabel,onKeyPress:this.handleOnKeyPress,clearButtonMode:clearButtonMode,onBlur:onBlur,inputAccessoryViewID:inputAccessoryViewID,__source:{fileName:_jsxFileName,lineNumber:289}}),this.renderPasswordToggle(),this.renderClearComp()),this.renderWordCount());}}]);return Input;}(_react2.default.Component);Input.propTypes={activeOpacity:_propTypes2.default.number,onChangeText:_propTypes2.default.func.isRequired,placeholderTextColor:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),passwordToggleFunc:_propTypes2.default.oneOfType([_propTypes2.default.bool,_propTypes2.default.func]),selectionColor:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),value:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,placeholder:_propTypes2.default.string,secureTextEntry:_propTypes2.default.bool,inputStyle:_propTypes2.default.oneOfType([_propTypes2.default.array,_propTypes2.default.object,_propTypes2.default.number]),placeholderStyle:_propTypes2.default.oneOfType([_propTypes2.default.array,_propTypes2.default.object,_propTypes2.default.number]),inputContainerStyle:_propTypes2.default.oneOfType([_propTypes2.default.array,_propTypes2.default.object,_propTypes2.default.number]),mAll:_propTypes2.default.number,mB:_propTypes2.default.number,mL:_propTypes2.default.number,mR:_propTypes2.default.number,mT:_propTypes2.default.number,mBpx:_propTypes2.default.number,mTpx:_propTypes2.default.number,mLpx:_propTypes2.default.number,mRpx:_propTypes2.default.number,pL:_propTypes2.default.number,pR:_propTypes2.default.number,pT:_propTypes2.default.number,pB:_propTypes2.default.number,fontSize:_propTypes2.default.number,width:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]),maxLength:_propTypes2.default.number,autoFocus:_propTypes2.default.bool,multiline:_propTypes2.default.bool,accentColor:_propTypes2.default.string,returnKeyType:_propTypes2.default.string,onSubmitEditing:_propTypes2.default.func,autoCapitalize:_propTypes2.default.string,keyboardType:_propTypes2.default.string,selectTextOnFocus:_propTypes2.default.bool,borderWidth:_propTypes2.default.number,borderBottomWidth:_propTypes2.default.number,defaultValue:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),keyboardAppearance:_propTypes2.default.string,label:_propTypes2.default.string,backgroundColor:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),autoCorrect:_propTypes2.default.bool,password:_propTypes2.default.bool,onPress:_propTypes2.default.oneOfType([_propTypes2.default.func,_propTypes2.default.bool]),wordCount:_propTypes2.default.number,numberOfLines:_propTypes2.default.number,eyeColor:_propTypes2.default.string,editable:_propTypes2.default.bool,returnKeyLabel:_propTypes2.default.string,wordCountBgColor:_propTypes2.default.string,disabled:_propTypes2.default.bool,containerStyle:_reactNative.ViewPropTypes.style,passwordEyeIcon:_propTypes2.default.number,header:_propTypes2.default.bool,clearButtonMode:_propTypes2.default.string,renderPassToggle:_propTypes2.default.oneOfType([_propTypes2.default.bool,_propTypes2.default.func]),renderClearComp:_propTypes2.default.oneOfType([_propTypes2.default.bool,_propTypes2.default.func]),getRef:_propTypes2.default.oneOfType([_propTypes2.default.bool,_propTypes2.default.func]),onBlur:_propTypes2.default.func,inputAccessoryViewID:_propTypes2.default.string};Input.defaultProps={activeOpacity:0.9,placeholderTextColor:"darkPlaceholder",selectionColor:(0,_commonHelpers.getGlobalColors)().gray,placeholder:"Enter text here...",secureTextEntry:false,mT:0,mR:0,mB:0,mL:0,mAll:0,mBpx:0,mTpx:0,mLpx:0,mRpx:0,pL:0,pR:0,pT:0,pB:0,fontSize:18,width:"100%",maxLength:150,autoFocus:false,accentColor:"blue",returnKeyType:"default",onSubmitEditing:_commonHelpers.defaultRefs.nullFunc,autoCapitalize:"sentences",keyboardType:"default",selectTextOnFocus:false,borderWidth:0,borderBottomWidth:1,defaultValue:"",keyboardAppearance:"dark",multiline:false,label:"",containerStyle:_commonHelpers.defaultRefs.emptyObj,inputContainerStyle:_commonHelpers.defaultRefs.emptyObj,backgroundColor:(0,_commonHelpers.getGlobalColors)().transparent,autoCorrect:false,onPress:false,password:false,passwordToggleFunc:false,wordCount:0,numberOfLines:1,inputStyle:_commonHelpers.defaultRefs.emptyObj,placeholderStyle:_commonHelpers.defaultRefs.emptyObj,eyeColor:"blue",editable:true,returnKeyLabel:"",wordCountBgColor:(0,_commonHelpers.getGlobalColors)().transparent,disabled:false,passwordEyeIcon:null,textProps:{size:4},header:false,clearButtonMode:"never",renderPassToggle:_commonHelpers.defaultRefs.nullFunc,renderClearComp:_commonHelpers.defaultRefs.nullFunc,getRef:_commonHelpers.defaultRefs.nullFunc,onBlur:_commonHelpers.defaultRefs.nullFunc,inputAccessoryViewID:""};exports.Input=Input;
//# sourceMappingURL=Input.js.map